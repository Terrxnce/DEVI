{"timestamp": "2025-12-09T20:10:15.276738+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "MT5Executor initialized in live mode", "taskName": null}
{"timestamp": "2025-12-09T20:10:15.277263+00:00", "level": "INFO", "logger": "core.structure.detector", "message": "Initialized OrderBlockDetector", "taskName": null, "structure_type": "order_block", "enabled": true}
{"timestamp": "2025-12-09T20:10:15.277625+00:00", "level": "INFO", "logger": "core.structure.detector", "message": "Initialized FairValueGapDetector", "taskName": null, "structure_type": "fair_value_gap", "enabled": true}
{"timestamp": "2025-12-09T20:10:15.278174+00:00", "level": "INFO", "logger": "core.structure.detector", "message": "Initialized BreakOfStructureDetector", "taskName": null, "structure_type": "break_of_structure", "enabled": true}
{"timestamp": "2025-12-09T20:10:15.278459+00:00", "level": "INFO", "logger": "core.structure.detector", "message": "Initialized SweepDetector", "taskName": null, "structure_type": "sweep", "enabled": true}
{"timestamp": "2025-12-09T20:10:15.278710+00:00", "level": "INFO", "logger": "core.structure.detector", "message": "Initialized UnifiedZoneRejectionDetector", "taskName": null, "structure_type": "rejection", "enabled": true}
{"timestamp": "2025-12-09T20:10:15.279016+00:00", "level": "INFO", "logger": "core.structure.detector", "message": "Initialized EngulfingDetector", "taskName": null, "structure_type": "engulfing", "enabled": true}
{"timestamp": "2025-12-09T20:10:15.279312+00:00", "level": "INFO", "logger": "core.structure.manager", "message": "Initialized 6 detectors: ['OrderBlockDetector', 'FairValueGapDetector', 'BreakOfStructureDetector', 'SweepDetector', 'UnifiedZoneRejectionDetector', 'EngulfingDetector']", "taskName": null}
{"timestamp": "2025-12-09T20:10:15.291754+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "broker_symbols_registered", "taskName": null, "registered": ["EURUSD", "GBPUSD", "USDJPY", "AUDUSD", "NZDUSD", "XAUUSD", "AUDJPY", "NVDA", "TSLA"]}
{"timestamp": "2025-12-09T20:10:15.318757+00:00", "level": "INFO", "logger": "__main__", "message": "live_session_start", "taskName": null, "executor_mode": "live", "symbols": ["EURUSD", "XAUUSD", "GBPUSD", "USDJPY"], "per_trade_pct": 0.005, "per_symbol_open_risk_cap_pct": 0.015}
{"timestamp": "2025-12-09T20:10:15.337441+00:00", "level": "INFO", "logger": "__main__", "message": "mt5_initialized", "taskName": null}
{"timestamp": "2025-12-09T23:30:06.976030+00:00", "level": "DEBUG", "logger": "core.structure.break_of_structure", "message": "bos_detected", "taskName": null, "direction": "bearish", "quality_score": 0.65}
{"timestamp": "2025-12-09T23:30:06.977472+00:00", "level": "WARNING", "logger": "core.orchestration.structure_exit_planner", "message": "exit_planner_rejection_unavailable", "taskName": null, "reason": "no_rejection_data_in_structures", "side": "SELL", "entry": 1.16255}
{"timestamp": "2025-12-09T23:30:06.978543+00:00", "level": "DEBUG", "logger": "core.orchestration.pipeline", "message": "stage_5_decisions_generated", "taskName": null, "count": 1}
{"timestamp": "2025-12-09T23:30:06.979957+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "execution_sized", "taskName": null, "symbol": "EURUSD", "order_type": "SELL", "volume_rounded": 16.41, "risk": {"new_trade_risk": 492.2999999999457, "open_risk_before": 0.0, "cap_pct": 0.015, "equity": 98517.3, "stop_distance_points": 29.999999999996692, "volume_rounded": 16.41}, "risk_budget": 492.5865, "cap_budget": 1477.7595, "session": null, "entry": 1.16255, "sl": 1.16285, "tp": 1.16203}
{"timestamp": "2025-12-09T23:30:06.981831+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "margin_check_passed", "taskName": null, "symbol": "EURUSD", "margin_free": 98517.3, "margin_level": 0, "open_positions": 0, "total_open_risk": 0.0, "new_trade_risk": 492.29999999994584, "total_risk_pct": 0.4997091881323847}
{"timestamp": "2025-12-09T23:30:06.983155+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_attempt", "taskName": null, "symbol": "EURUSD", "type": "SELL", "volume": 16.41, "entry": 1.16255, "sl": 1.16285, "tp": 1.16203, "mode": "live"}
{"timestamp": "2025-12-09T23:30:07.158100+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_result", "taskName": null, "symbol": "EURUSD", "mode": "live", "ticket": 79667077, "retcode": 10009, "retcode_description": "Request executed", "volume": 16.41, "entry": 1.16255, "sl": 1.16285, "tp": 1.16203, "attempt": 1, "max_attempts": 2}
{"timestamp": "2025-12-09T23:30:07.158684+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "trade_executed_enhanced", "taskName": null, "symbol": "EURUSD", "order_type": "SELL", "exit_method": "atr", "structure_type": "break_of_structure", "entry": 1.16255, "sl_requested": 1.16285, "sl_final": 1.16285, "tp_requested": 1.1620282142857143, "tp_final": 1.16203, "sl_distance_points": 29.999999999996692, "tp_distance_points": 52.00000000000759, "computed_rr": 1.7333333333333334, "clamped": true, "volume": 16.41, "env_mode": "ftmo_demo", "session": null}
{"timestamp": "2025-12-09T23:15:00+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "session_counters", "taskName": null, "session": null, "decisions_attempted": 1, "decisions_accepted": 1}
{"timestamp": "2025-12-09T23:30:07.167235+00:00", "level": "DEBUG", "logger": "core.structure.rejection", "message": "uzr_detected", "taskName": null, "direction": "bullish", "reaction_body_atr": 0.47007299270072994, "quality_score": 0.6705109489051095}
{"timestamp": "2025-12-09T23:30:07.168010+00:00", "level": "DEBUG", "logger": "core.orchestration.pipeline", "message": "stage_5_decisions_generated", "taskName": null, "count": 1}
{"timestamp": "2025-12-09T23:30:07.168290+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "execution_sized", "taskName": null, "symbol": "USDJPY", "order_type": "BUY", "volume_rounded": 0.12, "risk": {"new_trade_risk": 467.9999999998472, "open_risk_before": 0.0, "cap_pct": 0.015, "equity": 98394.22, "stop_distance_points": 3.8999999999987267, "volume_rounded": 0.12}, "risk_budget": 491.97110000000004, "cap_budget": 1475.9133, "session": null, "entry": 156.928, "sl": 156.889, "tp": 157.00139}
{"timestamp": "2025-12-09T23:30:07.168909+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "margin_check_passed", "taskName": null, "symbol": "USDJPY", "margin_free": 79398.33, "margin_level": 515.7486604947915, "open_positions": 1, "total_open_risk": 443.0699999999876, "new_trade_risk": 467.9999999998472, "total_risk_pct": 0.9259385358203306}
{"timestamp": "2025-12-09T23:30:07.169283+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_attempt", "taskName": null, "symbol": "USDJPY", "type": "BUY", "volume": 0.12, "entry": 156.928, "sl": 156.889, "tp": 157.00139, "mode": "live"}
{"timestamp": "2025-12-09T23:30:07.169672+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_result", "taskName": null, "symbol": "USDJPY", "mode": "live", "ticket": 0, "retcode": 10016, "retcode_description": "Invalid stops", "volume": 0.12, "entry": 156.928, "sl": 156.889, "tp": 157.00139, "attempt": 1, "max_attempts": 2}
{"timestamp": "2025-12-09T23:30:07.169871+00:00", "level": "WARNING", "logger": "core.execution.mt5_executor", "message": "order_send_invalid_stops_retry", "taskName": null, "symbol": "USDJPY", "attempt": 1, "reason": "re-querying stop_level and adjusting"}
{"timestamp": "2025-12-09T23:30:07.170178+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_volume_rescaled", "taskName": null, "symbol": "USDJPY", "original_volume": 0.12, "new_volume": 0.29, "scale_factor": 2.437500000000555, "original_sl_distance_pts": 38.99999999998727, "new_sl_distance_pts": 15.999999999991132}
{"timestamp": "2025-12-09T23:30:07.170378+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_stops_adjusted", "taskName": null, "symbol": "USDJPY", "new_stop_level": 0, "new_min_sl_pts": 16, "new_sl": 156.912, "new_tp": 156.944, "new_volume": 0.29}
{"timestamp": "2025-12-09T23:30:07.171057+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_result", "taskName": null, "symbol": "USDJPY", "mode": "live", "ticket": 0, "retcode": 10016, "retcode_description": "Invalid stops", "volume": 0.12, "entry": 156.928, "sl": 156.889, "tp": 157.00139, "attempt": 2, "max_attempts": 2}
{"timestamp": "2025-12-09T23:30:07.171446+00:00", "level": "ERROR", "logger": "core.execution.mt5_executor", "message": "order_send_error", "taskName": null, "symbol": "USDJPY", "mode": "live", "error": "MT5 order_send failed after 2 attempt(s) (retcode=10016, comment=Invalid stops)"}
{"timestamp": "2025-12-09T23:15:00+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "session_counters", "taskName": null, "session": null, "decisions_attempted": 2, "decisions_accepted": 2}
{"timestamp": "2025-12-09T23:45:07.280681+00:00", "level": "DEBUG", "logger": "core.structure.rejection", "message": "uzr_detected", "taskName": null, "direction": "bullish", "reaction_body_atr": 0.688034188034188, "quality_score": 0.7032051282051283}
{"timestamp": "2025-12-09T23:45:07.281065+00:00", "level": "DEBUG", "logger": "core.orchestration.pipeline", "message": "stage_5_decisions_generated", "taskName": null, "count": 1}
{"timestamp": "2025-12-09T23:45:07.281379+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "execution_sized", "taskName": null, "symbol": "EURUSD", "order_type": "BUY", "volume_rounded": 8.05, "risk": {"new_trade_risk": 491.04999999999956, "open_risk_before": 0.0, "cap_pct": 0.015, "equity": 98213.71, "stop_distance_points": 60.999999999999936, "volume_rounded": 8.05}, "risk_budget": 491.06855, "cap_budget": 1473.20565, "session": null, "entry": 1.16281, "sl": 1.1622, "tp": 1.16373}
{"timestamp": "2025-12-09T23:45:07.282097+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "margin_check_passed", "taskName": null, "symbol": "EURUSD", "margin_free": 79398.33, "margin_level": 514.8024891576345, "open_positions": 1, "total_open_risk": 443.0699999999876, "new_trade_risk": 491.04999999999956, "total_risk_pct": 0.9511095752313878}
{"timestamp": "2025-12-09T23:45:07.282644+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_attempt", "taskName": null, "symbol": "EURUSD", "type": "BUY", "volume": 8.05, "entry": 1.16281, "sl": 1.1622, "tp": 1.16373, "mode": "live"}
{"timestamp": "2025-12-09T23:45:07.454743+00:00", "level": "INFO", "logger": "core.execution.mt5_executor", "message": "order_send_result", "taskName": null, "symbol": "EURUSD", "mode": "live", "ticket": 79668964, "retcode": 10009, "retcode_description": "Request executed", "volume": 8.05, "entry": 1.16281, "sl": 1.1622, "tp": 1.16373, "attempt": 1, "max_attempts": 2}
{"timestamp": "2025-12-09T23:45:07.455155+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "trade_executed_enhanced", "taskName": null, "symbol": "EURUSD", "order_type": "BUY", "exit_method": "rejection", "structure_type": "rejection", "entry": 1.16281, "sl_requested": 1.1622, "sl_final": 1.1622, "tp_requested": 1.1633114285714286, "tp_final": 1.16373, "sl_distance_points": 60.999999999999936, "tp_distance_points": 92.00000000000318, "computed_rr": 1.5081967213114753, "clamped": true, "volume": 8.05, "env_mode": "ftmo_demo", "session": null}
{"timestamp": "2025-12-09T23:30:00+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "session_counters", "taskName": null, "session": null, "decisions_attempted": 3, "decisions_accepted": 3}
{"timestamp": "2025-12-09T23:45:07.464570+00:00", "level": "DEBUG", "logger": "core.structure.fair_value_gap", "message": "fvg_detected", "taskName": null, "direction": "bearish", "gap_size": 0.52, "quality_score": 0.6205921176692438}
{"timestamp": "2025-12-09T23:45:07.464751+00:00", "level": "DEBUG", "logger": "core.structure.break_of_structure", "message": "bos_detected", "taskName": null, "direction": "bearish", "quality_score": 0.65}
{"timestamp": "2025-12-09T23:45:07.465119+00:00", "level": "DEBUG", "logger": "core.orchestration.pipeline", "message": "stage_5_decisions_generated", "taskName": null, "count": 2}
{"timestamp": "2025-12-09T23:45:07.465223+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "decisions_deduplicated", "taskName": null, "symbol": "XAUUSD", "original_count": 2, "kept_count": 1, "best_structure": "break_of_structure", "best_confidence": 0.65}
{"timestamp": "2025-12-09T23:45:07.465677+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "execution_sized", "taskName": null, "symbol": "XAUUSD", "order_type": "SELL", "volume_rounded": 2.23, "risk": {"new_trade_risk": 488.5929999999562, "open_risk_before": 0.0, "cap_pct": 0.015, "equity": 98145.28, "stop_distance_points": 219.09999999998035, "volume_rounded": 2.23}, "risk_budget": 490.7264, "cap_budget": 1472.1792, "session": null, "entry": 4208.7, "sl": 4210.891, "tp": 4203.01821}
{"timestamp": "2025-12-09T23:45:07.466214+00:00", "level": "WARNING", "logger": "core.orchestration.pipeline", "message": "margin_guard_blocked", "taskName": null, "symbol": "XAUUSD", "reason": "open_risk_cap_exceeded", "total_risk_after": 489486.8699999563, "total_risk_pct": 498.7370457346052, "max_open_risk_pct": 4.5, "open_positions": 2, "new_trade_risk": 488592.9999999562}
{"timestamp": "2025-12-09T23:45:07.466441+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "trade_blocked_by_margin_guard", "taskName": null, "symbol": "XAUUSD", "reason": "Total risk 498.74% > 4.5%", "volume": 2.23, "entry": 4208.7, "sl": 4210.891}
{"timestamp": "2025-12-09T23:30:00+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "session_counters", "taskName": null, "session": null, "decisions_attempted": 5, "decisions_accepted": 4}
{"timestamp": "2025-12-09T23:45:07.468139+00:00", "level": "DEBUG", "logger": "core.structure.sweep", "message": "sweep_detected", "taskName": null, "direction": "bearish", "quality_score": 0.6}
{"timestamp": "2025-12-09T23:45:07.468366+00:00", "level": "WARNING", "logger": "core.orchestration.structure_exit_planner", "message": "exit_planner_rejection_unavailable", "taskName": null, "reason": "no_rejection_data_in_structures", "side": "SELL", "entry": 156.92}
{"timestamp": "2025-12-09T23:45:07.468616+00:00", "level": "DEBUG", "logger": "core.orchestration.pipeline", "message": "stage_5_decisions_generated", "taskName": null, "count": 1}
{"timestamp": "2025-12-09T23:45:07.468887+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "execution_sized", "taskName": null, "symbol": "USDJPY", "order_type": "SELL", "volume_rounded": 4.9, "risk": {"new_trade_risk": 490.00000000233973, "open_risk_before": 0.0, "cap_pct": 0.015, "equity": 98145.28, "stop_distance_points": 0.10000000000047748, "volume_rounded": 4.9}, "risk_budget": 490.7264, "cap_budget": 1472.1792, "session": null, "entry": 156.92, "sl": 156.921, "tp": 156.84907}
{"timestamp": "2025-12-09T23:45:07.469245+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "margin_check_passed", "taskName": null, "symbol": "USDJPY", "margin_free": 70018.48, "margin_level": 345.1243175423013, "open_positions": 2, "total_open_risk": 893.8700000000811, "new_trade_risk": 490.0000000023397, "total_risk_pct": 1.4100219592856842}
{"timestamp": "2025-12-09T23:45:07.469528+00:00", "level": "WARNING", "logger": "core.execution.mt5_executor", "message": "sl_too_close_for_broker", "taskName": null, "symbol": "USDJPY", "entry": 156.92, "sl": 156.921, "tp": 156.84907, "order_type": "SELL", "stops_level": 10, "spread": 10, "actual_sl_distance_pts": 1.0000000000047748, "min_required_pts": 30, "shortfall_pts": 28.999999999995225}
{"timestamp": "2025-12-09T23:45:07.469669+00:00", "level": "WARNING", "logger": "core.execution.mt5_executor", "message": "order_validation_failed", "taskName": null, "error": "SL too close: 1.0 pts < 30 pts required", "symbol": "USDJPY"}
{"timestamp": "2025-12-09T23:30:00+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "session_counters", "taskName": null, "session": null, "decisions_attempted": 6, "decisions_accepted": 5}
{"timestamp": "2025-12-09T23:45:19.417887+00:00", "level": "INFO", "logger": "core.orchestration.pipeline", "message": "dry_run_exit_summary", "taskName": null, "exit_method_hist": {"order_block": 0, "fair_value_gap": 2, "rejection": 2, "atr": 2, "legacy": 0}, "rr_gate": {"overall_ge_1_5_pct": 100.0, "by_method": {"order_block": 0.0, "fair_value_gap": 100.0, "rejection": 100.0, "atr": 100.0, "legacy": 0.0}}, "legacy_tracking": {"total_legacy_exits": 0, "legacy_passed_rr": 0, "legacy_failed_rr": 0, "legacy_pass_rate_pct": 0.0, "by_structure": {}}}
